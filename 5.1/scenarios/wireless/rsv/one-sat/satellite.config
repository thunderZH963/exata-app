VERSION 12.10
SIMULATION-TIME   300S
SEED   1

COORDINATE-SYSTEM           LATLONALT
TERRAIN-SOUTH-WEST-CORNER   ( 0.00, -120.0)
TERRAIN-NORTH-EAST-CORNER   (35.00,  -95.0)

# 29.5 GHz satellite
PROPAGATION-CHANNEL-FREQUENCY[0] 29.5e9
PROPAGATION-CHANNEL-FREQUENCY[1] 29.6e9
PROPAGATION-CHANNEL-FREQUENCY[2] 29.7e9
PROPAGATION-CHANNEL-FREQUENCY[3] 29.8e9

PROPAGATION-PATHLOSS-MODEL FREE-SPACE
# Generally the propagation limit should be set to account for LNA
# power input levels
PROPAGATION-LIMIT -150.0

#
# Standard PHY Attributes
# For satellite use, PHY-TEMPERATURE reduced to 40K
# and PHY-NOISE-FACTOR reduced to 0.75
# Noise factor reduced to 0.75
PHY-TEMPERATURE 40
PHY-NOISE-FACTOR 0.75
#
# These are not used presently to permit Eb/No-based threshold
PHY-RX-MODEL SNR-THRESHOLD-BASED
PHY-RX-SNR-THRESHOLD 7.0

MOBILITY NONE
NODE-PLACEMENT FILE
NODE-POSITION-FILE ./satellite.nodes
MOBILITY-GROUND-NODE NO

SUBNET N16-0 { 1 thru 3 }
# MAC-PROTOCOL SATELLITE-BENTPIPE enables bentpipe MAC.
[N16-0] MAC-PROTOCOL SATELLITE-BENTPIPE
# Presently satellite model receives and transmits on same channel
[N16-0] PHY-LISTENABLE-CHANNEL-MASK 1111
[N16-0] PHY-LISTENING-CHANNEL-MASK 1111
# Define the PHY model to be the Reed-Solomon with Concatenated Viterbi
[N16-0] PHY-MODEL SATELLITE-RSV
#
# MAC-SATELLITE-BENTPIPE-ROLE SATELLITE | GROUND-STATION
[1] MAC-SATELLITE-BENTPIPE-ROLE SATELLITE
[2 thru 3] MAC-SATELLITE-BENTPIPE-ROLE GROUND-STATION
#
# MAC-SATELLITE-BENTPIPE-FORWARD-TO-PAYLOAD-PROCESSOR TRUE | FALSE
# if TRUE, sent to network process, else directly retransmit
[N16-0] MAC-SATELLITE-BENTPIPE-FORWARD-TO-PAYLOAD-PROCESSOR NO
# MAC-SATELLITE-BENTPIPE-TRANSMIT-POWER-MW set by MAC so it is 
# possible that each frame may have a different power (for multiplexor
# modeling, etc.
[N16-0] MAC-SATELLITE-BENTPIPE-TRANSMIT-POWER-MW 7000
#
# PHY-SATELLITE-RSV-CHANNEL-BANDWIDTH (Hz): Main lobe of signal
[N16-0] PHY-SATELLITE-RSV-CHANNEL-BANDWIDTH 320.0e3
# PHY-SATELLITE-RSV-PREAMBLE-SIZE: size of preamble in symbols
[N16-0] PHY-SATELLITE-RSV-PREAMBLE-SIZE 64
# PHY-SATELLITE-RSV-USE-SHORTEN-LAST-CODEWARD TRUE | FALSE
# if TRUE, shortens last R-S codeword to minimum size for 
# data blocks less than 188 symbols
# R-S only operates on GF(256) in this release.
[N16-0] PHY-SATELLITE-RSV-USE-SHORTEN-LAST-CODEWORD TRUE
#
# PHY-SATELLITE-RSV-BLOCK-CODING: REED-SOLOMON-204-188
# only (204,188) GF(256) supported in this release.
[N16-0] PHY-SATELLITE-RSV-BLOCK-CODING REED-SOLOMON-204-188
#
# PHY-SATELLITE-RSV-TRANSMISSION-MODE BPSK | QPSK | 8PSK
# PHY transmission mode (only used for duration)
[N16-0] PHY-SATELLITE-RSV-TRANSMISSION-MODE BPSK
#
# PHY-SATELLITE-RSV-CONVOLUTIONAL-CODING VITERBI-1-2 | VITERBI-2-3
# | VITERBI-3-4 | VITERBI-5-6 | VITERBI-7-8 | VITERBI-8-9
# 8PSK only support VITERBI-2-3 | VITERBI-5-6 | VITERBI-8-9
# QPSK only support VITERBI-1-2 | VITERBI-3-4 | VITERBI-7-8
# BPSK supports all modes
[N16-0] PHY-SATELLITE-RSV-CONVOLUTIONAL-CODING VITERBI-1-2
#
# PHY-SATELLITE-RSV-GUARD-TIME : time
# Guard time added to transmission
[N16-0] PHY-SATELLITE-RSV-GUARD-TIME 10US
#
# PHY-SATELLITE-ADJACENT-CHANNEL-INTERFERENCE : dB
[N16-0] PHY-SATELLITE-ADJACENT-CHANNEL-INTERFERENCE 20.0
# PHY-SATELLITE-ADJACENT-SATELLITE-INTERFERENCE : dB
[N16-0] PHY-SATELLITE-ADJACENT-SATELLITE-INTERFERENCE 25.0
# PHY-SATELLITE-INTERMODULATION-INTERFERENCE : dB
# SSPA normal range ~30.0
# TWTA normal range 15-20 dB
[1] PHY-SATELLITE-RSV-INTERMODULATION-INTERFERENCE 18.0
[2 thru 3] PHY-SATELLITE-RSV-INTERMODULATION-INTERFERENCE 30.0
#
# PHY-SATELLITE-EBNO-THRESHOLD : dB
[N16-0] PHY-SATELLITE-EBNO-THRESHOLD 7.0

#
# ANTENNA-GAIN: dBi
[N16-0] ANTENNA-GAIN 47.0
[N16-0] ANTENNA-EFFICIENCY 0.70
[N16-0] ANTENNA-MISMATCH-LOSS 0.3
[N16-0] ANTENNA-CABLE-LOSS 0.0
[N16-0] ANTENNA-CONNECTION-LOSS 0.2
[N16-0] ANTENNA-HEIGHT 3.0
[N16-0] ANTENNA-MODEL OMNIDIRECTIONAL

APP-CONFIG-FILE lookup.app
EXPERIMENT-NAME satellite

ROUTER-MODEL-CONFIG-FILE    default.router-models
NETWORK-PROTOCOL   IP
IP-QUEUE-NUM-PRIORITIES   3
IP-QUEUE-PRIORITY-QUEUE-SIZE   16000
IP-QUEUE-TYPE   FIFO
GREEN-PROFILE-MIN-THRESHOLD        10
GREEN-PROFILE-MAX-THRESHOLD        20
GREEN-PROFILE-MAX-PROBABILITY      0.02
YELLOW-PROFILE-MIN-THRESHOLD       5
YELLOW-PROFILE-MAX-THRESHOLD       10
YELLOW-PROFILE-MAX-PROBABILITY     0.02
RED-PROFILE-MIN-THRESHOLD          2
RED-PROFILE-MAX-THRESHOLD          5
RED-PROFILE-MAX-PROBABILITY        0.02
IP-QUEUE-SCHEDULER   STRICT-PRIORITY

IP-FORWARDING YES
#ROUTING-PROTOCOL   AODV
STATIC-ROUTE YES
STATIC-ROUTE-FILE ./satellite.routes-static


APPLICATION-STATISTICS                  YES
TCP-STATISTICS                          YES
UDP-STATISTICS                          YES
RSVP-STATISTICS                         NO
ROUTING-STATISTICS                      YES
ACCESS-LIST-STATISTICS                  NO
IGMP-STATISTICS                         NO
EXTERIOR-GATEWAY-PROTOCOL-STATISTICS    YES
NETWORK-LAYER-STATISTICS                YES
DIFFSERV-EDGE-ROUTER-STATISTICS         NO
QUEUE-STATISTICS                        YES
MAC-LAYER-STATISTICS                    YES
PHY-LAYER-STATISTICS                    YES
MOBILITY-STATISTICS                     NO

ICMP NO

ROUTING-PROTOCOL NONE
[1] MAC-SATELLITE-CHANNEL-COUNT 4

[1] MAC-SATELLITE-UPLINK-CHANNEL[0]  0
[1] MAC-SATELLITE-DOWNLINK-CHANNEL[0]  2

[1] MAC-SATELLITE-UPLINK-CHANNEL[1]  1
[1] MAC-SATELLITE-DOWNLINK-CHANNEL[1]  3

[2] MAC-SATELLITE-USE-UPLINK-CHANNEL 0
[2] MAC-SATELLITE-USE-DOWNLINK-CHANNEL 2
[3] MAC-SATELLITE-USE-UPLINK-CHANNEL 1
[3] MAC-SATELLITE-USE-DOWNLINK-CHANNEL 3
